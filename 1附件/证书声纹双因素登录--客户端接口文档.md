
## 登录认证管理器


### 设备端登录接口

证书双因素登录, 口令双因素登录, 声纹双因素登录, 使用该接口

#### URL

- `POST` /uni_auth/v1/login/gateway

描述：设备端登录接口，认证参数完整非对称加密加密

ContentType：`application/x-www-form-urlencoded;charset=UTF-8`

#### 请求参数

##### Query Parameter

| 名称                 | 类型   | 必填 | 描述                                                                  |
| -------------------- | ------ | ---- | --------------------------------------------------------------------- |
| authenticationMethod | string | 是   | 登录方式   VPL: 声纹, CERT: 证书, PASSWORD: 口令                      |
| vendor               | string | 是   | 登录方式厂商 706: 706项目声纹和证书登录的配置, PEKALL: 口令认证的配置 |
| parameters           | string | 是   | 被公钥加密的参数                                                      |
| ver                  | string | 否   | 版本号，用于支持parameters参数整体加密, 2: parameters整体需要解密     |
| loginId | string | 否 |         会话id，主要用于多因素认证, 双因素认证第二次认证时, 需要填写第一次认证返回的loginId | 

#### 响应参数

| 名称 | 类型 | 必填 | 最大长度 | 描述 | 示例值 |
| --- | --- | --- | --- | --- | --- |
| any object | object | 否 | - | any object. |  |

#### 响应示例

```
{
    "any object": {}
}
```

#### 错误码

无
## 声纹认证管理器


### 设备申请开启声纹认证
开启声纹认证

#### URL

- `POST` /uni_auth/v1/vpl_auth/enable_vpl

描述：设备申请开启声纹认证, 返回sessionToken和personId

ContentType：`application/x-www-form-urlencoded;charset=UTF-8`

#### 请求参数

##### Query Parameter

| 名称                 | 类型   | 必填 | 描述                                          |
| -------------------- | ------ | ---- | --------------------------------------------- |
| loginId              | string | 是   | 登录后返回的loginId                           |
| authenticationMethod | string | 是   | 登录方式   VPL: 声纹                          |
| vendor               | string | 是   | 登录方式厂商 706: 706项目声纹和证书登录的配置 |
| parameters           | string | 是   | 被公钥加密的参数                            |
| ver                  | string | 否   | 版本号，用于支持parameters参数整体加密, 2: parameters整体需要解密                            |

#### 响应参数

| 名称 | 类型 | 必填 | 最大长度 | 描述 | 示例值 |
| --- | --- | --- | --- | --- | --- |
| any object | object | 否 | - | any object. |  |

#### 响应示例

```
{
    "any object": {}
}
```

#### 错误码

无

### 获取声纹验证码
获取声纹文本 根据开启后返回的personId获取

#### URL

- `GET` /uni_auth/v1/vpl_auth/voice_code

描述：获取声纹验证码
 获取声纹文本 根据开启后返回的personId获取

ContentType：`application/x-www-form-urlencoded;charset=UTF-8`

#### 请求参数

##### Query Parameter

| 名称     | 类型   | 必填 | 描述                                          |
| -------- | ------ | ---- | --------------------------------------------- |
| personId | string | 是   | 开启接口返回的personId                        |
| vendor   | string | 否   | 登录方式厂商 706: 706项目声纹和证书登录的配置 |

#### 响应参数

| 名称 | 类型 | 必填 | 最大长度 | 描述 | 示例值 |
| --- | --- | --- | --- | --- | --- |
| any object | object | 否 | - | any object. |  |

#### 响应示例

```
{
    "any object": {}
}
```

#### 错误码

无

### 注册声纹认证
声纹注册, 根据厂商, 注册声纹

#### URL

- `POST` /uni_auth/v1/vpl_auth/register_vpl

描述：注册声纹认证, 根据厂商参数, 注册到不同厂商的声纹的服务器中

ContentType：`application/x-www-form-urlencoded;charset=UTF-8`

#### 请求参数

##### Query Parameter

| 名称         | 类型   | 必填 | 描述                                          |
| ------------ | ------ | ---- | --------------------------------------------- |
| loginId      | string | 是   | 登录返回的loginId                            |
| sessionToken | string | 是   | 开启声纹认证返回的sessionToken                           |
| vendor       | string | 否   | 登录方式厂商 706: 706项目声纹和证书登录的配置 |
| fileIds      | string | 是   | 文件id列表，通过逗号分隔, 支持一个或多个                    |

#### 响应参数

| 名称 | 类型 | 必填 | 最大长度 | 描述 | 示例值 |
| --- | --- | --- | --- | --- | --- |
| any object | object | 否 | - | any object. |  |

#### 响应示例

```
{
    "any object": {}
}
```

#### 错误码

无
