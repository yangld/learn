1. 关联分析数据库
```mermaid
erDiagram
	DATA_MODEL		        ||--|{ 	DATA_MODEL_ATTRIBUTE	: one-to-many
	KAFKA_TOPIC_MODEL		}|--|| 	DATA_MODEL			    : many-to-one
	DATA_MODEL				||--|{ 	ABNORMAL_CONDITION	    : one-to-many
	STAT_LABEL              }|--||  DATA_MODEL              : many-to-one
	
	DATA_MODEL {
		string id
		string name
		string displayName
		string description
	}
	DATA_MODEL_ATTRIBUTE {
	    string name
	    string displayName
	    string attr_type
	    long   attr_length
	    long   nullable
	    string description
        string data_model_id
		string id
    }
	KAFKA_TOPIC_MODEL {
        string kafka_topic
		string data_model_id
		string mapping_config
    }
	ABNORMAL_CONDITION {
	    string name
		string display_name
		string data_model_id
		string condition
		string serverity
		string id_attribute
		string name_attribute
		string content_template
		string id
    }
	
	ALERT {
	    string alert_type
	    string severity
        string object_id
        string object_name
        date   timestamp
        string alert_content
        string action
        string record_source
		string id
    }
	STAT_LABEL {
		string id
        string name
        string displayName
        string data_model_id
        string key_attr_name
        string value_attr_name
        string condition
        string algorithm
        string stat_type
        long   threshold
        long   period_length
    }
```

1. 描述信息
	1. kafka_topic_model, 接收kafka的消息, 然后使用mapping_config中的配置,转化数据为json
		1. kafka中有设备违规日志,设备登录日志, 授权日志,设备授权应用,mdm_beats
		2. mdm_beats, police_sync_pulbic_device_violation_log使用mapper转化为json
		3. 其它直接转化为json
	2. 转化的时候, 会根据 data_model_id找到data_module_attribute,然后确定参数是否合法,类型,长度,是否为空
	3. data_model 里有id, name和displayName, 显示用
		1. 有单点登录日志,设备违规日志,应用数据审计, 应用审计, 授权访问日志, 设备日志
	4. abnormal_condition, 里面有判断逻辑,确定是否异常, 有异常则记录异常日志
	5. 日志记录到alert中
	6. stat_label
		1. 里面有period_length,用于周期的统计, 统计方式有sum和count, 有key, 有value, 有condition