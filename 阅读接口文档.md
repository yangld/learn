![[声纹修改-1216.docx]]

1. 对方声纹系统中,有机构信息, 用户信息
	1. 如何同步过来, 是导入, 还是有接口, 应该是导入, 匹配的关键字是什么?? 
	2. 关键字就是用户名
2. 我们注册用户声纹的时候, 传递这些信息,即可生成声纹
3. 注册的时候, 需要传递语音文件, un, gn
4. 验证的时候, 需要传递语音文件, un
5. 验证的时候, 需要获取语音文本, 避免同一个语音文件被盗用



1. 注册声纹
	1. 参数: 语音文件
	2. 两个接口
		1. 管理员注册
			1. http://ip:port/runRegaFile/wuz123j4
			2. 最后的路径为用户名
			3. 参数为audio
			4. 成功返回"/", 失败返回"fail"
			5. form-data格式
			6. audio : test.wav
			7. post
		2. 用户注册
			1. http://ip:port/runRegFile/wuzhijian/test
			2. wuzhijian为用户名
			3. test为组织名
			4. form-data格式
			5. 成功返回"/", 失败返回"fail"
			6. audio : test.wav
			7. post
	3. 步骤
		1. 录音生成wav文件
		2. 上传wav文件
2. 声纹验证
	1. 步骤
		1. 获取文本
		2. 上传语音验证
			1. 6组随机文本, 保存为wav文件
			2. 上传验证
	2. 两个接口
		1. 获取文本接口
			1. http://ip:port/recog 
			2. get
			3. 返回6组随机文本
			4. 失败返回"fail"
		2. 语音验证
			1. 录制语音文件
			2. 验证接口
				1. http://ip:port/sendwav/感世，上无栏，是，只要，肯攀，德样，的/wuzhijian 
				2. 感世，上无栏，是，只要，肯攀，德样，的  为随机文本, 英文逗号分隔
				3. wuzhijian 为用户名
				4. 参数为audio
				5. 返回值为数字, 数值大于等于3表示成功, 小于3则失败
				6. form-data格式
				7. post
				8. audio : test.wav
3. 总共三个接口
	1. 注册
	2. 获取文本
	3. 验证
4. 问题
	1. 用户名如何同步
	2. 这些接口是我们的系统与声纹系统对接的接口?
	3. 现有的客户端逻辑
		1. 注册前, 已经登陆, 有了sessionid
		2. 注册的时候, 传递sessionid, 获取文本, 录制多个文件, 多次上传文件, 最后返回一个uuid,表示该用户的声纹uuid
		3. 验证的时候, 没有sessionid, 
		4. 验证, 获取文本, 录制多个文件, 多次上传文件, 返回多个文件uuid, 
		5. 验证, 多个文件uuid和声纹uuid一起传给服务器,验证
	4. 修改
		1.  需要支持单个文件的上传, 验证
		2. 把从声纹系统返回的多个文本, 转化成一条文本返回
		3. 