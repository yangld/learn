## Day Planner
```mermaid
gantt
    dateFormat  HH-mm
    axisFormat %H:%M
    %% Current Time: 上午9:39:21
    section Tasks
    OBsidian 学习     :09-30, 30mm
    bug修改     :10-00, 120mm
    自注册原型设计     :13-30, 120mm
    其它     :15-30, 210mm
    END     :19-00, 0mm
    section Breaks
    BREAK     :12-00, 90mm
```

## 上午安排
- [x] 09:30 国家集中管控，使用queyDsl查询机构和用户列表
- [ ] 10:00 省集中管控，增加拓扑图上传逻辑
- [ ] 12:00 BREAK

## 下午安排
- [ ] 13:30 bug修改
- [ ] 15:30 使用Flink统计活跃数据
- [ ] 19:00 END

## 国家集中管控升级
1. 进一所
	1.  需要提供董欣， 姓名，身份证号，行程码，健康宝
	2. 预计下周二可以进一所
	3. 进所当天，需要满足核酸48小时， 和上面的所有要求
2. 进机房
	1. 通知董欣， 访问南机房的192.168.20.40, 是一台物理机
	2. 让董欣，找几个三类区的ip， 目的是大屏可以访问的机器
	3. 董欣会找李勇，去南机房
3. 登录物理服务器
	1. 李勇找到对应的机器后，登录用户名密码
	2. 是一条windows的物理机，里面有虚拟机
	3. 查看剩余的内存 #todo
4. 创建虚拟机
	1. 先创建一台虚拟机192.168.20.51 #todo，内存，CPU，磁盘大小需确认 #todo
	2. 需要使用光驱，安装centos7.5，安装过程与红雷确认 #todo 
	3. 配置ip信息，关闭防火墙
	4. 之后再创建其它的虚拟机
5. 测试环境部署，迁移，测试
	1. 先从现场测试环境（哪个IP） #todo， 备份历史数据
	2. 在51上，进行国家集中管控测试环境的安装
	3. 测试51上部署的国家集中管控
	4. 备份现在的数据库，用于出现问题后，回滚数据
	5. 将历史数据在51上执行，对比perf_opt.sql（之前手动增加的索引），删除对应的索引
	6. 再次在51上，进行国家集中管控的升级
	7.  测试升级后的集中管控
	8.  在nginx中配置大屏的允许访问的ip
	9.  44138，44139，44140 如何配置 #todo
6. 正式环境部署，迁移，测试
	1.  先从现场正式环境（哪个IP） #todo， 停用nginx， 等待一段时间后（等国家集中管控煤没有日志后）， 备份历史数据
	2. 在52，53，54上，进行国家集中管控正式环境的安装
	3. 测试52，53，54上部署的国家集中管控
	4. 备份现在的数据库，用于出现问题后，回滚数据
	5. 将历史数据在52，53，54上执行，对比perf_opt.sql（之前手动增加的索引），删除对应的索引
	6. 再次在52，53，54，进行国家集中管控的升级
	7.  测试升级后的集中管控
	8.  在nginx中配置大屏的允许访问的ip
	9. 44138，44139，44140 如何配置 #todo 

1. 红雷
	1. 51，52，53，54对应的ip， cpu，内存，磁盘各需要多少
	2. 51对应的测试环境，52，53，54分别对应什么
	3. 光驱和光盘， centos7.5的安装选项
	4. 是关闭防火墙，还是需要配置防火墙
	5. 44138，44139，44140如何配置，如何配置成外网映射
2. 董欣
	1. 确定是部署迁移升级国家集中管控
	2. 协助进入南机房
	3. 提供几个三类区的ip，可以访问大屏的ip
3. 李勇
	1. 进入南机房
	2. 登录南机房国家集中管控对应的物理机
	3. 查看机器剩余内存是否够用
4. 小胡
	1. 测试环境部署后验证功能
	2. 正式环境部署后验证功能
5. 我
	1. 创建虚拟机
	2. 配置IP
	3. 部署，迁移，升级，测试
6. 工具
	1. 光驱，centos7.5光盘，国家集中管控全量安装包，索引文件列表
7. 中间数据
	1. 导出测试环境的mysql的数据
	2. 导出正式环境的mysql的数据
8. 关键节点
	1. 正式环境数据导出前，需要停止nginx
	2. 正式环境部署测试完成后，需要切换到新的正式环境
9. 其它
	1. 和红雷确定之前的部署图，和现在的部署图
	2. 测试哪些功能，如何测试？？
	3. 可以连接电脑，使用jmeter进行测试吗，数据生成？？？